
/* App.css baseline - Professional Dark Theme */
:root {
  --bg: #0f0f0f;
  --bg-elevated: #1a1a1a;
  --bg-card: #1e1e1e;
  --fg: #e5e5e5;
  --fg-bright: #ffffff;
  --muted: #a0a0a0;
  --border: #333333;
  --border-light: #404040;
  --radius: 12px;
  --primary-600: #3b82f6;
  --primary-700: #2563eb;
  --primary-800: #1d4ed8;
  --accent: #10b981;
  --accent-hover: #059669;
  --btn-font-size: 13px;
  --btn-py: 7px;
  --btn-px: 12px;
  --btn-radius: 8px;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  /* Keep layout width stable whether a vertical scrollbar is needed or not */
  overflow-y: scroll;
  scrollbar-gutter: stable both-edges;
}

.app {
  max-width: none;
  margin: 0;
  padding: 18px 0 18px 18px;
}

.app__header { margin-bottom: 14px; }
.app__title { margin: 0; font-size: 22px; font-weight: 800; letter-spacing: .2px; }
.app__subtitle { margin-top: 4px; color: var(--muted); font-size: 13px; }

.app__grid { display: flex; gap: 0; width: 100%; overflow-x: hidden; }
.app__grid > .card { flex: 1 1 0; min-width: 240px; overflow-y: auto; overflow-x: hidden; scrollbar-gutter: stable; }

/* Make resizers have zero layout width; use pseudo-element as 8px drag handle */
.resizer { width: 0; margin: 0; cursor: col-resize; position: relative; user-select: none; touch-action: none; align-self: stretch; background: transparent; flex: 0 0 auto; }
.resizer::before { content:''; position:absolute; top:0; bottom:0; left:-4px; width:8px; background: transparent; }
.resizer::after { content:''; position:absolute; top:0; bottom:0; left:-1px; width:2px; background: var(--border); transition: background .15s ease; }
.resizer:hover::after { background: #9ca3af; }

.card { 
  background: var(--bg-card); 
  border: 1px solid var(--border); 
  border-radius: var(--radius); 
  padding: 16px; 
  color: var(--fg);
}
.card__title { 
  font-weight: 600; 
  margin-bottom: 12px; 
  color: var(--fg-bright);
  font-size: 15px;
}
.card--stack > .divider { height: 1px; background: var(--border); margin: 16px 0; }

.hint { margin-top: 8px; color: var(--muted); font-size: 12px; }
.hint__code { background:#f3f4f6; padding:2px 6px; border-radius:8px; }

/* Downsized buttons - Dark theme */
button, .btn, [role="button"], .button {
  background: var(--primary-600);
  color: #fff;
  border: none;
  border-radius: var(--btn-radius);
  padding: var(--btn-py) var(--btn-px);
  font-weight: 600;
  font-size: var(--btn-font-size);
  line-height: 1.1;
  cursor: pointer;
  transition: background 0.2s ease;
}
button:hover, .btn:hover, [role="button"]:hover, .button:hover {
  background: var(--primary-700);
}
button:active, .btn:active, [role="button"]:active, .button:active {
  background: var(--primary-800);
}
button:disabled, .btn:disabled { 
  opacity: 0.5; 
  cursor: not-allowed; 
  background: var(--border-light);
}

.card input[type="text"],
.card input[type="search"],
.card input[type="number"],
.card select,
.card textarea { 
  width: 100%; 
  max-width: 100%; 
  display: block;
  background: var(--bg-elevated);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px 12px;
  font-size: 14px;
}

.card input:focus,
.card select:focus,
.card textarea:focus {
  outline: none;
  border-color: var(--primary-600);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.app__footer { 
  margin-top: 16px; 
  color: var(--muted); 
  font-size: 12px; 
  display: flex; 
  gap: 10px; 
  align-items: center; 
  border-top: 1px solid var(--border); 
  padding-top: 12px; 
}

/* Dark theme scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border-light) var(--bg-elevated);
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: var(--bg-elevated);
}

*::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--border);
}

@media (max-width: 1023px) {
  .app { padding: 12px; }
  .app__grid { flex-direction: column; }
  .resizer { display: none; }
}


/* QueryBuilder fallback styles (when Tailwind classes are not present) */
.qb__input {
  width: 100%;
  max-width: 100%;
  display: block;
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 12px;
  outline: none;
}

.qb__input:focus {
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.25);
}


/* Ensure QueryBuilder input doesn't collapse too narrow */
.qb { width: 100%; }

/* Dark theme enhancements */
table {
  background: var(--bg-card);
  color: var(--fg);
}

thead {
  background: var(--bg-elevated) !important;
  color: var(--fg-bright);
}

tbody tr:nth-child(odd) {
  background: var(--bg-card);
}

tbody tr:nth-child(even) {
  background: var(--bg-elevated);
}

tbody tr:hover {
  background: rgba(59, 130, 246, 0.1);
}

.text-gray-500, .text-gray-600 {
  color: var(--muted) !important;
}

.bg-gray-50, .bg-gray-100 {
  background: var(--bg-elevated) !important;
}

.border-gray-200 {
  border-color: var(--border) !important;
}

a {
  color: var(--primary-600);
  text-decoration: none;
}

a:hover {
  color: var(--primary-700);
  text-decoration: underline;
}

/* Alert/Error styling for dark theme */
.alert {
  padding: 12px;
  border-radius: 8px;
  margin: 8px 0;
}

.alert--error {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: #fca5a5;
}

/* Chip/Tag styling for terms */
.chip, .tag, .pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 13px;
  color: var(--fg);
  cursor: pointer;
  transition: all 0.2s ease;
}

.chip:hover, .tag:hover, .pill:hover {
  background: var(--border-light);
  border-color: var(--primary-600);
}

.chip-metric {
  font-size: 11px;
  color: var(--muted);
  font-weight: 500;
}

/* Skeleton loading for dark theme */
@keyframes pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.6; }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  background: var(--bg-elevated);
}
.qb__input { width: 100%; min-width: 420px; }
@media (min-width: 1024px) {
  .qb__input { min-width: 640px; }
}
